# Compute Lab 274: Introduction to Amazon Aurora

## Overview
This lab introduces **Amazon Aurora**, a fully managed, MySQL-compatible relational database service. I will learn to create an Aurora instance, connect to a pre-configured EC2 instance, and perform basic SQL queries.


## Objectives
By the end of this lab, I will be able to:
- Create an Amazon Aurora (MySQL-compatible) instance
- Connect to a pre-created EC2 Linux instance
- Configure the EC2 instance to connect to Aurora
- Create tables, insert data, and query records in Aurora

## AWS Services Used
- **Amazon Aurora (via Amazon RDS):** Fully managed, MySQL-compatible relational database engine  
- **Amazon EC2:** Compute resource used to connect and query the Aurora database  
- **Amazon VPC:** Provides networking with subnets and security groups

## Pre-requisites
- Familiarity with Linux basics (command line usage)  
- Basic SQL knowledge  
- Lab environment provisions all necessary AWS resources using **CloudFormation**

## Steps Taken

### Task 1: Create an Aurora instance
1. Open the **AWS Management Console** → search for **RDS** → **Databases** → **Create database**.
2. Configure with:
   - **Engine:** Aurora (MySQL 8.0, default)
   - **Template:** Dev/Test
   - **DB cluster identifier:** `aurora`
   - **Master username/password:** `admin / admin123`
   - **Instance class:** `db.t3.medium`
   - **Multi-AZ:** Disabled (Don’t create Aurora Replica)
   - **VPC:** `LabVPC`
   - **Subnet group:** `dbsubnetgroup`
   - **Security group:** `DBSecurityGroup` (remove default SG)
   - **Public access:** No
   - **Initial database name:** `world`
   - **Encryption / Enhanced Monitoring / Auto-upgrades:** Disabled
3. Click **Create database** and wait until status is **Available**.


### Task 2: Connect to an EC2 Linux instance
1. Open **EC2 Console** → **Instances**.
2. Select instance named **Command Host** → **Connect**.
3. Choose **Session Manager** → **Connect**.


### Task 3: Configure EC2 to connect to Aurora
1. Install MariaDB client:
   ```bash
   sudo yum install mariadb -y
   ```
2. In the RDS Console, copy the Writer Endpoint for the Aurora cluster. Example:
   ```
   aurora.cluster-xxxxxxxxxxxx.us-west-2.rds.amazonaws.com
   ```
3. Connect to Aurora from EC2:
   ```bash
   mysql -u admin --password='admin123' -h <aurora_endpoint>
   ```


### Task 4: Create a table, insert data, and run queries
1. Switch to the `world` database:
   ```sql
   SHOW DATABASES;
   USE world;
   ```
2. Create a `country` table:
   ```sql
   CREATE TABLE `country` (
     `Code` CHAR(3) NOT NULL,
     `Name` CHAR(52) NOT NULL,
     `Continent` ENUM('Asia','Europe','North America','Africa','Oceania','Antarctica','South America') NOT NULL,
     `Region` CHAR(26) NOT NULL,
     `SurfaceArea` FLOAT(10,2) NOT NULL,
     `IndepYear` SMALLINT(6),
     `Population` INT(11) NOT NULL,
     `LifeExpectancy` FLOAT(3,1),
     `GNP` FLOAT(10,2),
     `GNPOld` FLOAT(10,2),
     `LocalName` CHAR(45) NOT NULL,
     `GovernmentForm` CHAR(45) NOT NULL,
     `Capital` INT(11),
     `Code2` CHAR(2) NOT NULL,
     PRIMARY KEY (`Code`)
   );
   ```
3. Insert records:
   ```sql
   INSERT INTO `country` VALUES ('GAB','Gabon','Africa','Central Africa',267668.00,1960,1226000,50.1,5493.00,5279.00,'Le Gabon','Republic',902,'GA');
   INSERT INTO `country` VALUES ('IRL','Ireland','Europe','British Islands',70273.00,1921,3775100,76.8,75921.00,73132.00,'Ireland/Éire','Republic',1447,'IE');
   INSERT INTO `country` VALUES ('THA','Thailand','Asia','Southeast Asia',513115.00,1350,61399000,68.6,116416.00,153907.00,'Prathet Thai','Constitutional Monarchy',3320,'TH');
   INSERT INTO `country` VALUES ('CRI','Costa Rica','North America','Central America',51100.00,1821,4023000,75.8,10226.00,9757.00,'Costa Rica','Republic',584,'CR');
   INSERT INTO `country` VALUES ('AUS','Australia','Oceania','Australia and New Zealand',7741220.00,1901,18886000,79.8,351182.00,392911.00,'Australia','Constitutional Monarchy, Federation',135,'AU');
   ```
4. Run a query:
   ```sql
   SELECT * FROM country WHERE GNP > 35000 AND Population > 10000000;
   ```
   **Expected result:** 2 rows → *Australia* and *Thailand*.

## Wrap-up
I have successfully:
- Created an Aurora instance
- Connected to an EC2 instance
- Configured EC2 to connect to Aurora
- Created and queried a table in Aurora

